<div id="wrapper" class="container">
  <section class="header_text sub">
    <app-post></app-post>
    <h4><span>Chi tiết sản phẩm</span></h4>
  </section>
  <app-notification></app-notification>
  <section class="main-content">
    <div class="row">
      <div class="span9">
        <div class="row" style="display: flex;">
          <div class="span4" *ngIf="products">
            <a
              href="http://localhost:3000/product/image/{{ products.photo }}"
              class="thumbnail"
              data-fancybox-group="group1"
              title="Description 1"
              ><img
                alt=""
                src="http://localhost:3000/product/image/{{ products.photo }}"
            /></a>
          </div>
          <div class="span5" *ngIf="products">
            <address *ngFor="let category of categories">
              <h4>
                <strong>{{ products.product_name }}</strong>
              </h4>
              <br />

              <strong>Thương hiệu: &#160;</strong>
              <span>{{ category.category_name }} </span> <br />
              <strong>Tình trạng: &#160;</strong> <span> 2000</span><br />
              <strong>Lượt xem: &#160;</strong> <span> 21932</span><br />
              <strong>Đã bán: &#160;</strong> <span> {{products.sold}}</span><br />
              <strong>Số lượng còn lại: &#160;</strong> <span> {{products.quantity}}</span><br />
            </address>
            <h4>
              <strong
                >Giá: {{ formatPrice(products.price) }}
                {{ products.unit }}</strong
              >
            </h4>
            <p>&nbsp;</p>
            <input 
             *ngIf="products.quantity != 0"
              type="number"
              style="width: 7%"
              class="form-control"
              name="gia"
              [(ngModel)]="editObj.quantity"
              min="1"
             [max]="products.quantity"
              required
            />
            <div class="span5" *ngIf="products">
              <form class="form-inline">
                <span
                *ngIf="products.quantity == 0"
                >
                <strong>  Đã hết hàng</strong>
                </span>
                <button
                *ngIf="products.quantity != 0"
                  height="2rem"
                  color="primary500"
                  class="btn btn-inve"
                  type="button"
                  (click)="onButton1Click(products.id, products.price)"
                >
                  <div type="body" color="primary500">Thêm vào giỏ</div>
                </button>
              </form>
            </div>
          </div>
        
          <div class="span3 col">
            <div class="block">
              <br />
              <ul class="nav nav-list below">
                <li class="nav-header">Hãng sản xuất</li>
                <li *ngFor="let category1 of categories1">
                  <a [routerLink]="['/products', category1.id]">{{
                    category1.category_name
                  }}</a>
                </li>
              </ul>
            </div>
      
           
          </div>
        </div>
        
        <div class="row" *ngIf="products">
          <div class="span9">
            <ul class="nav nav-tabs" id="myTab">
              <li class="active"><a href="#home">Miêu tả</a></li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane active" id="home">
                {{ products.description }}
              </div>
            </div>
          </div>

          <div class="span9">
            <br />
            <h4 class="title">
              <span class="pull-left"
                ><span class="text"
                  ><strong>Các sản phẩm khác</strong>
                </span></span
              >
            </h4>
            <div id="myCarousel-1" class="carousel slide">
              <div class="carousel-inner">
                <div class="active item">
                  <ul class="thumbnails listing-products">
                    <li
                      class="span3"
                      *ngFor="let product of randomProducts"
                    >
                      <div class="product-box">
                        <span class="sale_tag"></span>
                        <a  (click)="refreshRandomProducts()" [routerLink]="['/product_detail', product.id]"
                          ><img
                            alt=""
                            style="height: 270px"
                            src="http://localhost:3000/product/image/{{
                              product.photo
                            }}" /></a
                        ><br />
                        <a  (click)="refreshRandomProducts()"
                          [routerLink]="['/product_detail', product.id]"
                          class="title"
                          >{{ product.product_name }}</a
                        ><br />
                        <a  (click)="refreshRandomProducts()"
                          [routerLink]="['/product_detail', product.id]"
                          class="category"
                        >
                          <p class="price">
                            {{ formatPrice(product.price) }} {{ product.unit }}
                          </p></a
                        >
                        <span
                        *ngIf="product.quantity === 0"
                        >
                        <strong>  Đã hết hàng</strong>
                        </span>
                        <button
                        *ngIf="product.quantity != 0"
                          height="2rem"
                          color="primary500"
                          class="css-16gdkk6"
                          type="button"
                          (click)="onButtonClick(product.id, product.price)"
                        >
                          <div type="body" color="primary500">Thêm vào giỏ</div>
                        </button>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

         
        </div>
      </div>
 
    </div>
  </section>
</div>
